{"version":3,"file":"static/js/261.ec5152be.chunk.js","mappings":"qQACA,EAA0B,8BAA1B,EAAiE,6BAAjE,EAAsG,4B,SCuBtG,EArBqB,SAAC,GAAY,IAAXA,EAAU,EAAVA,KACXC,EAAuDD,EAAvDC,YAAaC,EAA0CF,EAA1CE,MAAOC,EAAmCH,EAAnCG,SAAUC,EAAyBJ,EAAzBI,aAAcC,EAAWL,EAAXK,OAC9CC,EAAYC,KAAKC,MAA6B,GAAvBC,OAAOL,IAC9BM,EAAcL,EAAOM,KAAI,SAAAC,GAAK,OAAIA,EAAMC,IAAV,IAAgBC,KAAK,KACzD,OACI,iBAAKC,UAAWC,EAAhB,WACI,gBAAKD,UAAWC,EAAhB,SACKf,IAAe,gBAAKgB,IAAG,uDAAkDhB,GAAeiB,IAAI,QAEjG,iBAAKH,UAAWC,EAAhB,WACI,wBAAKd,KACL,wCAAgBI,EAAhB,SACA,sCACA,uBAAIH,KACJ,oCACA,uBAAIO,SAInB,ECrBD,EAAuB,+BAAvB,EAA6D,+BCyD7D,EApDyB,WAErB,OAA8BS,EAAAA,EAAAA,WAAS,GAAvC,eAAOC,EAAP,KAAgBC,EAAhB,KACA,GAA0BF,EAAAA,EAAAA,UAAS,MAAnC,eAAOG,EAAP,KAAcC,EAAd,KACA,GAAwBJ,EAAAA,EAAAA,UAAS,CAAC,GAAlC,eAAOnB,EAAP,KAAawB,EAAb,KACA,GAAwBL,EAAAA,EAAAA,UAAS,KAAjC,eAAOM,EAAP,KAAaC,EAAb,KAEQC,GAAYC,EAAAA,EAAAA,MAAZD,QACFE,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,MA2BjB,OAvBAC,EAAAA,EAAAA,YAAU,WAAO,IAAD,IACZP,EAAO,oBAACK,EAASG,aAAV,aAAC,EAAgBT,YAAjB,QAAyB,IAEnC,GAAE,KAEHQ,EAAAA,EAAAA,YAAU,WACN,IAAME,EAAe,mCAAG,oGAEhBd,GAAW,GAFK,UAGOe,EAAAA,EAAAA,IAAaT,GAHpB,OAGVU,EAHU,OAIhBb,EAAQa,GAJQ,gDAMhBd,EAAS,EAAD,IANQ,yBAShBF,GAAW,GATK,4EAAH,qDAarBc,GACH,GAAE,CAACR,KAIA,4BACI,mBAAQW,QA3BD,kBAAMT,EAASJ,EAAf,EA2BP,qBACCc,OAAOC,KAAKxC,GAAMyC,OAAS,IAAK,SAAC,EAAD,CAAczC,KAAMA,IACpDoB,IAAW,0CACXE,IAAS,kDACV,iBAAKP,UAAWC,EAAhB,WACQ,SAAC,KAAD,CAAMD,UAAWC,EAAa0B,GAAE,kBAAaf,EAAb,SAAhC,mBACA,SAAC,KAAD,CAAMZ,UAAWC,EAAa0B,GAAE,kBAAaf,EAAb,YAAhC,yBAER,SAAC,KAAD,MAIX,C,4MCrDYgB,EAAiB,mCAAG,sGACRC,IAAAA,IAAA,0FADQ,uBACtBC,EADsB,EACtBA,KADsB,kBAGtBA,GAHsB,2CAAH,qDAMjBC,EAAe,mCAAG,WAAMjC,GAAN,yFACN+B,IAAAA,IAAA,kHAAqH/B,EAArH,gCADM,uBACpBgC,EADoB,EACpBA,KADoB,kBAGpBA,GAHoB,2CAAH,sDAMfT,EAAY,mCAAG,WAAMW,GAAN,yFACHH,IAAAA,IAAA,6CAAgDG,EAAhD,6DADG,uBACjBF,EADiB,EACjBA,KADiB,kBAGjBA,GAHiB,2CAAH,sDAOZG,EAAO,mCAAG,WAAMD,GAAN,yFACEH,IAAAA,IAAA,6CAAgDG,EAAhD,qEADF,uBACZF,EADY,EACZA,KADY,kBAGZA,GAHY,2CAAH,sDAMPI,EAAU,mCAAG,WAAOF,GAAP,yFACCH,IAAAA,IAAA,6CAAgDG,EAAhD,4EADD,uBACdF,EADc,EACdA,KADc,kBAGfA,GAHe,2CAAH,qD","sources":["webpack://react-homework-template/./src/components/MovieDetails/MovieDetails.module.css?9ca9","components/MovieDetails/MovieDetails.jsx","webpack://react-homework-template/./src/pages/MovieDetailsPage/MovieDetailsPage.module.css?9108","pages/MovieDetailsPage/MovieDetailsPage.jsx","shared/api/movies.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"datails\":\"MovieDetails_datails__t6nSZ\",\"poster\":\"MovieDetails_poster__Gw9Qy\",\"title\":\"MovieDetails_title__RBndM\"};","import styles from './MovieDetails.module.css';\nimport PropTypes from 'prop-types';\n\nconst MovieDetails = ({item}) => {    \n    const { poster_path, title, overview, vote_average, genres } = item\n    const userScore = Math.round(Number(vote_average) * 10);\n    const movieGenres = genres.map(genre => genre.name).join(\" \")\n    return (\n        <div className={styles.datails}>\n            <div className={styles.poster}>\n                {poster_path && <img src={`https://image.tmdb.org/t/p/w220_and_h330_face${poster_path}`} alt=\"\" />}               \n            </div>\n            <div className={styles.title}>\n                <h3>{title}</h3>\n                <p>User Score: {userScore} %</p>\n                <h4>Overview</h4>\n                <p>{overview}</p>\n                <h4>Genres</h4>\n                <p>{movieGenres}</p>\n            </div>\n        </div>\n    )\n};\n\nexport default MovieDetails;\n\nMovieDetails.propTypes = {\n    item: PropTypes.shape({\n    poster_path: PropTypes.string.isRequired,\n    title: PropTypes.string.isRequired,\n    overview: PropTypes.string.isRequired,\n    vote_average: PropTypes.number.isRequired,\n    genres: PropTypes.arrayOf(\n                PropTypes.shape({\n                    name: PropTypes.string.isRequired,                \n            })\n        )               \n    })\n    \n};","// extracted by mini-css-extract-plugin\nexport default {\"menu\":\"MovieDetailsPage_menu__twLyt\",\"link\":\"MovieDetailsPage_link__rhdjc\"};","import {useState, useEffect} from \"react\";\nimport {Link, Outlet, useParams, useNavigate, useLocation } from 'react-router-dom';\nimport { getMovieById } from '../../shared/api/movies';\nimport MovieDetails from '../../components/MovieDetails/MovieDetails';\nimport styles from \"./MovieDetailsPage.module.css\";\n\nconst MovieDetailsPage = () => {\n    \n    const [loading, setLoading] = useState(false);\n    const [error, setError] = useState(null);\n    const [item, setItem] = useState({});\n    const [from, setFrom] = useState(\"/\");\n\n    const { movieId } = useParams();\n    const navigate = useNavigate();\n    const location = useLocation();\n    \n    const goBack = () => navigate(from)\n\n    useEffect(() => {   \n        setFrom(location.state?.from ?? \"/\")\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    useEffect(() => {          \n        const fetchMoviesById = async() => {\n            try {\n                setLoading(true)                \n                const response = await getMovieById(movieId)                \n                setItem(response)\n            } catch (error) {\n                setError(error)\n            }\n            finally {\n                setLoading(false)\n            }\n        };\n    \n        fetchMoviesById();        \n    }, [movieId]);\n\n    \n    return (\n        <div>\n            <button onClick={goBack}>Go back</button>\n            {Object.keys(item).length > 0 && <MovieDetails item={item} />}\n            {loading && <p>...load movies</p>}\n            {error && <p>...Movies load failed</p>}\n            <div className={styles.menu}>\n                    <Link className={styles.link} to={`/movies/${movieId}/cast`}>Cast</Link>\n                    <Link className={styles.link} to={`/movies/${movieId}/reviews`}>Reviews</Link>\n            </div>\n            <Outlet /> \n        </div>\n        \n    )\n}\n\nexport default MovieDetailsPage;","import axios from \"axios\";\n\n\nexport const getTrendingMovies = async() => {\n    const {data} = await axios.get(`https://api.themoviedb.org/3/trending/all/day?api_key=d320fda9f0a654278233a1e86d74d04d`);\n\n    return data;\n}\n\nexport const getMoviesByName = async(name) => {\n    const {data} = await axios.get(`https://api.themoviedb.org/3/search/movie?api_key=d320fda9f0a654278233a1e86d74d04d&language=en-US&query=${name}&page=1&include_adult=false`);\n\n    return data;\n}\n\nexport const getMovieById = async(id) => {\n    const {data} = await axios.get(`https://api.themoviedb.org/3/movie/${id}?api_key=d320fda9f0a654278233a1e86d74d04d&language=en-US`);\n\n    return data;\n}\n\n\nexport const getCast = async(id) => {\n    const {data} = await axios.get(`https://api.themoviedb.org/3/movie/${id}/credits?api_key=d320fda9f0a654278233a1e86d74d04d&language=en-US`);\n\n    return data;\n}\n\nexport const getReviews = async (id) => {\n    const { data } = await axios.get(`https://api.themoviedb.org/3/movie/${id}/reviews?api_key=d320fda9f0a654278233a1e86d74d04d&language=en-US&page=1`);\n\n    return data;\n}"],"names":["item","poster_path","title","overview","vote_average","genres","userScore","Math","round","Number","movieGenres","map","genre","name","join","className","styles","src","alt","useState","loading","setLoading","error","setError","setItem","from","setFrom","movieId","useParams","navigate","useNavigate","location","useLocation","useEffect","state","fetchMoviesById","getMovieById","response","onClick","Object","keys","length","to","getTrendingMovies","axios","data","getMoviesByName","id","getCast","getReviews"],"sourceRoot":""}